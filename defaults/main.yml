---

# HAProxy Global settings
haproxy_notification_email: root
haproxy_notification_email_from: haproxy@{{ ansible_fqdn }}
haproxy_backend_balance_method: roundrobin
haproxy_socket: /var/lib/haproxy/stats
haproxy_chroot: /var/lib/haproxy
haproxy_user: haproxy
haproxy_group: haproxy
haproxy_extra_global_vars: []
haproxy_node: '{{ ansible_hostname }}'

# HAProxy Stats configuration
haproxy_enable_stats: false
haproxy_stats_port: 1936
haproxy_stats_username: ""
haproxy_stats_password: ""

# HAProxy Frontend settings
haproxy_frontends:
- name: default-fe
  process: 1
  binds:
  - "*:80"
  default_backend: default-be

# HAProxy Backend settings
haproxy_backends:
- name: default-be
  process: 1
  balance: roundrobin
  servers:
  - name: rp
    address: '127.0.0.1:{{ haproxy_stats_port }}'
    options: check

haproxy_processes: 1
haproxy_sysctl_file: /etc/sysctl.d/z0-haproxy.conf
haproxy_rsyslog_file: /etc/rsyslog.d/haproxy.conf
haproxy_logrotate_file: /etc/logrotate.d/haproxy

# Keepalived configuration
haproxy_enable_ha: false
haproxy_keepalived_vrrps:
- name: "VI_1"
  interface: "eth0"
  state: "BACKUP"
  router_id: 51
